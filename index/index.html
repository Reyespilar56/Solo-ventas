<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ventas</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body>
  <header class="container">
    <img src="https://digy.com.mx/wp-content/uploads/2021/02/logo1sinfondo_Mesa-de-trabajo-1-1024x264.png"
      alt="Imagen del producto">
    <h1>Formulario de Venta</h1>
  </header>

  <section class="formulario container">
    <h2>Datos del Cliente</h2>

    <form id="formulario-venta">
      <div class="mb-3">
        <label for="nombre" class="form-label">Nombre: <span style="color: red;">*</span></label>
        <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Nombre Del Cliente" required>
      </div>
    </form>
    

    <div class="mb-3">
      <label for="NUmero Ext" class="form-label">Nombre de la calle : <span style="color: red;">*</span></label>
        <input type="text" class="form-control" id="calle" name="calle" placeholder="Nombre de la calle" required>
    </div>
    
    <div class="mb-3">
      <label for="NUmero int" class="form-label">Numero Int:</label>
        <input type="text" class="form-control" id="numeroInt" name="numero" placeholder="Número" required>
    </div>
    <div class="mb-3">
      <label for="NUmero Ext" class="form-label">Numero Ext: <span style="color: red;">*</span></label>
      <input type="text" class="form-control" id="numeroExt" name="numero" placeholder="Número" required>
  </div>

    <div class="mb-3">
      <label for="cp" class="form-label">Codigo postal: <span style="color: red;">*</span></label>
        <input type="text" class="form-control" id="cp" name="cp" placeholder="Código Postal (C.P.)" required>
    </div>
    <label for="entreCalles" class="form-label">Entre Calles: <span style="color: red;">*</span></label>
    <div class="mb-3">
        <input type="text" class="form-control" id="entreCalles" name="entreCalles" placeholder="Entre qué calle y qué calle" required>
    </div>
    <div class="mb-3">
      <label for="referencias" class="form-label">Referencias: <span style="color: red;">*</span></label>
      <input type="text" class="form-control" id="referencias" name="referencias" placeholder="Ej: Color de la casa" required>
  </div>
    
      <div class="mb-3">
        <label for="email" class="form-label">Correo Electrónico:</label>
        <input type="email" class="form-control" id="email" name="email" placeholder="Correo Electronico " >
      </div>

      <div class="mb-3">
        <label for="telefono" class="form-label">Teléfono Móvil:<span style="color: red;">*</span> </label>
        <input type="tel" class="form-control" id="telefono" name="telefono" placeholder="Teléfono Móvil" required>
      </div>

      <div class="mb-3">
        <label for="telefonocasa" class="form-label">Teléfono Casa:</label>
        <input type="tel" class="form-control" id="telefonocasa" name="telefonocasa"  placeholder="telefono Casa">
      </div>

      <!--<div class="mb-3">
        <label for="referencias" class="form-label">Referencias:</label>
        <input type="text" class="form-control" id="referencias" name="referencias" required>
      </div>-->

      <div class="mb-3 d-flex justify-content-between">
        <div class="w-50">
          <label for="coordenadas" class="form-label">Coordenadas: <span style="color: red;">*</span></label>
          <input type="text" class="form-control" id="coordenadas" name="coordenadas" placeholder="Coordenadas" required>
        </div>
        <div class="w-50 d-flex align-items-end">
          <button type="button" class="btn btn-success" id="encontrar">Encontrar Coordenada</button>
        </div>
      </div>

      <div class="mb-3 d-flex justify-content-between">
        <div class="w-50">
          <label for="paquete" class="form-label">Paquete: <span style="color: red;">*</span></label>
          <select id="paquete" name="paquete" class="form-select" required>
            <option value="">Selecciona un paquete</option>
            <option value="paquete basico">Básico</option>
            <option value="paquete profesional">Profesional</option>
            <option value="paquete plus">Plus</option>
          </select>
        </div>
        <div class="w-50 d-flex align-items-end">
          <a target="_blank" href="/Calculadora/Calculadora.html" type="button" class="btn btn-primary" id="foto" style= "width: 100cm">Calculadora de megas</a>
        </div>
      </div>
      <P>Fecha y Horario tentativo de instalación</P>
      <div class="mb-3 d-flex justify-content-between">
        <div class="w-50">
            <label for="FechaInicio" class="form-label">Fecha de :<span style="color: red;">*</span></label>
            <input type="date" id="FechaInicio" name="FechaInicio" class="form-control" required>
        </div>
    
        <div class="w-50">
            <label for="FechaFin" class="form-label">A: <span style="color: red;">*</span></label>
            <input type="date" id="FechaFin" name="FechaFin" class="form-control" required>
        </div>
      </div>
      <div class="mb-3 d-flex justify-content-between">
        <div class="w-50">
            <label for="HoraInicio" class="form-label">En Horario de : <span style="color: red;">*</span></label>
            <select id="HoraInicio" name="HoraInicio" class="form-select" required>
                <option value="">Seleccione una hora</option>
                <option value="09:00">09:00</option>
                <option value="10:00">10:00</option>
                <option value="11:00">11:00</option>
                <option value="12:00">12:00</option>
                <option value="13:00">13:00</option>
                <option value="14:00">14:00</option>
                <option value="15:00">15:00</option>
                <option value="16:00">16:00</option>
                <option value="17:00">17:00</option>
                <option value="18:00">18:00</option>
                <option value="19:00">19:00</option>
            </select>
        </div>
        
    
        <div class="w-50">
            <label for="HoraFin" class="form-label"> A:<span style="color: red;">*</span></label>
            <select id="HoraFin" name="HoraFin" class="form-select" required>
                <option value="">Seleccione una hora</option>
                <option value="09:00">09:00</option>
                <option value="10:00">10:00</option>
                <option value="11:00">11:00</option>
                <option value="12:00">12:00</option>
                <option value="13:00">13:00</option>
                <option value="14:00">14:00</option>
                <option value="15:00">15:00</option>
                <option value="16:00">16:00</option>
                <option value="17:00">17:00</option>
                <option value="18:00">18:00</option>
                <option value="19:00">19:00</option>
            </select>
        </div>
    </div>
    

        <div class="mb-3 d-flex justify-content-between">
      <div class="w-50">
    <label for="Anticipo" class="form-label">Pagado: <span style="color: red;">*</span></label>
    <select id="Anticipo" name="Anticipo" class="form-select" required>
        <option value="">Anticipo</option>
        <option value="SI">SI</option>
        <option value="NO">NO</option>
        <option value="PAGADO">PAGADO</option>
    </select>
</div>


  
<div id="anticipoAmount" class="w-50" style="display: none;">
    <label for="anticipoAmountInput" class="form-label">Monto del Anticipo:<span style="color: red;">*</span></label>
    <input type="number" id="anticipoAmountInput" name="anticipoAmountInput" class="form-control" step="">

</div>

</div>
        <div class="mb-3">
        <label for="notas" class="form-label">Notas:</label>
        <input type="text" class="form-control" id="notas" name="notas" required>
      </div>

      

    <div class="mb-3">
    <label for="ID" class="form-label">ID:</label>
    <input type="text" id="ID" class="form-control" name="ID" disabled>
</div>

      <div class="container mt-5">
        <div class="row">
          <div class="col text-center">
            
            <h6>FOTOGRAFÍAS</h6>
            <video id="video" autoplay playsinline style="display:none;"></video>
            <canvas id="canvas" style="display:none;"></canvas>
         
            <table id="tabla" class="table table-bordered">
              <thead >
                <tr>
                  <!-- <th><button for="photo_data1" id="ine_button" name="photo_data1" type="button"
                      class="btn btn-outline-success" style="height: 3.3%;">INE</button></th> -->
                  <th id="ine"><input type="file" accept="image/*" class="file-input" data-photo-index="0" ></th>
                  <th id="reverso"><input type="file" accept="image/*" class="file-input" data-photo-index="1" ></th>
                  <th id="domicilio"><input type="file" accept="image/*" class="file-input" data-photo-index="2" multiple ></th>
                  <!-- <th><button for="photo_data2" id="reverso_button" name="photo_data2" type="button"
                      class="btn btn-outline-success"style="height: 3.3%;">Reverso</button></th>
                  <th><button for="photo_data1" id="domicilio_button" name="photo_data3" type="button"
                      class="btn btn-outline-success"style="height: 3.3%;">Domicilio</button></th> -->
                      
                </tr>
                <tr>
                  <th style="height: 33.2%;">
                    <img id="photo1" alt="" style="width: 33.3%;" />
                    <a id="urlDisplayINE" href="" target="_blank" style="height: 33.2%; color:#4CAF50; text-decoration:none;"></br>INE</a>
                  </th>
                  <th>
                    <img id="photo2" alt="" style="width: 33.3%;" />
                    <a id="urlDisplayREVERSO" href="" target="_blank" style="height: 33.2%; color:#4CAF50; text-decoration:none;"></br>REVERSO</a>
                  </th>
                  <th>
                    <img id="photo3" alt="" style="width: 33.2%;" />
                    <a id="urlDisplayDOMICILIO" href="" target="_blank" style="height: 33.2%; color:#4CAF50; text-decoration:none;"></br>DOMICILIO</a>
                  </th>
                </tr>
                
              </thead>
            </table>
          
          </div>
        </div>
        
      </div>
      <div id="myModal" class="modal">
        <div class="modal-content">
          <span class="close">&times;</span>
          <h2>Resumen de la Venta</h2>
          <p>Por favor, verifica los siguientes datos antes de confirmar:</p>
          <ul id="resumenDatos"></ul>
      
          <!-- Contenedor para el mensaje de carga y confirmación -->
          <p id="mensaje"></p>
      
          <!-- Botón de Confirmación -->
          <a type="button" id="confirmar" class="btn btn-success">Confirmar</a>
        </br>
          <!-- Botón de Cancelación -->
          <a type="button" class="btn btn-danger">Cancelar</a>
        </div>
      </div>
      
      <ul id="listaDocumentos"></ul>
      
      <style>
        /* Estilos básicos del modal */
        .modal {
          display: none;
          position: fixed;
          z-index: 1;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          overflow: auto;
          background-color: rgba(0, 0, 0, 0.4);
          padding-top: 60px;
        }
      
        .modal-content {
          background-color: #fefefe;
          margin: 5% auto;
          padding: 20px;
          border: 1px solid #888;
          width: 80%;
        }
      
        .close {
          color: #aaa;
          float: right;
          font-size: 28px;
          font-weight: bold;
        }
      
        .close:hover,
        .close:focus {
          color: black;
          text-decoration: none;
          cursor: pointer;
        }
      
        /* Estilo del ícono de carga */
        .loading-icon {
          border: 4px solid #f3f3f3;
          border-top: 4px solid #3498db;
          border-radius: 50%;
          width: 20px;
          height: 20px;
          display: inline-block;
          animation: spin 1s linear infinite;
          margin-right: 10px;
        }
      
        /* Animación de giro */
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      
        .button-container {
          display: flex;
          flex-direction: column;
          gap: 40cm; /* Espaciado entre botones */
        }
      </style>
      
      <button id="json_post" type="button" class="btn btn-primary btn-lg">Venta</button>
      <p id="mensaje"></p>
      

      <a href="/login/Login.html" id="logoutButton" class="btn btn-danger btn-lg">Cerrar sesión</a>

    </form>
    <video id="video" width="640" height="480" autoplay style="display:none;"></video>
    <canvas id="canvas" width="640" height="480" style="display:none;"></canvas>
  </section>
  <script type="module">
    // Importa las funciones necesarias de Firebase
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
    import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js";
  </script>
  
  <!-- Inclusión de script para manejar la solicitud POST con Axios -->
  <script src="https://cdn.jsdelivr.net/npm/bcryptjs@2.4.3/dist/bcrypt.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="Preregistro.js"></script> 
  <script src="capturarFotos.js"></script>
  <script type="module" src="firebaseConfig.js"></script>
  <script type="module">


    // Importa las funciones necesarias de Firebase
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
    import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js";
  </script>

</body>



</html>